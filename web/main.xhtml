<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"

      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"

>

<h:head>
    <title>Laba3</title>
    <h:outputStylesheet name="main.css"/>
</h:head>
<h:body>
    <div class="header">
        <em>
            <p style="color: purple; font-size: 35px" align="center">Байрамова Хумай</p>
            <p style="color: purple" align="center">Вариант №2843</p>
            <p style="color: purple" align="center">Группа №P3232</p>
            <p style="color: #FFEFD5" align="center">pukpuk</p>
        </em>
    </div>

    <div class="content">
        <div class="centerBorder">
            <div class="ff">
                <div class="fform">
                    <h:form id="newPointForm" styleClass="form">
                        <div class="commonGroup">
                            <div class="fillItPls">Заполните тут все, позязя</div>
                            <div class="XR">
                                <div class="chooseR">


                                    <h:outputLabel class="chooseRTitle" value="Выберите R"/>
                                    <br></br>


                                    <h:inputText style="display: none; visibility: hidden" id="hiddenR"
                                                 value="#{pointsBean.point.r}" required="true"
                                                 styleClass="#{not component.valid ? 'hiddenR-error' : ''}">
                                        <!--                                        <f:ajax event="inputChange" render="b1 b2 b3 b4 b5 hiddenR" execute="hiddenR b1 b2 b3 b4 b5 "/>-->
                                    </h:inputText>

                                    <h:commandButton styleClass="button" value="1" id="b1"
                                                     onclick="this.disabled = true; cancelButton(this); return false;"/>
                                    <h:commandButton styleClass="button" value="2" id="b2"
                                                     onclick="this.disabled = true; cancelButton(this); return false;"/>
                                    <h:commandButton styleClass="button" value="3" id="b3"
                                                     onclick="this.disabled = true; cancelButton(this); return false;"/>
                                    <h:commandButton styleClass="button" value="4" id="b4"
                                                     onclick="this.disabled = true; cancelButton(this); return false;"/>
                                    <h:commandButton styleClass="button" value="5" id="b5"
                                                     onclick="this.disabled = true; cancelButton(this); return false;"/>


                                </div>

                                <div class="selectX">
                                    <h:outputLabel id="selectXTitle" class="selectXTitle" value="Выберите X"/>
                                    <div class="ui-fluid">
                                        <p:spinner id="X" min="-3" max="3" required="true"
                                                   value="#{pointsBean.point.x}">
                                            <!--                                            <p:ajax event="change" update="selectXTitle" process="@this"/>-->
                                        </p:spinner>
                                    </div>
                                </div>
                            </div>

                            <div class="enterY">
                                <h:inputText name="enterY" type="text" id="Y"
                                             pt:placeholder="Введите значение Y от -5 до 5"
                                             required="true" value="#{pointsBean.point.y}"
                                             converterMessage="Вас же попросили: циферку от -5 до 5" requiredMessage=""
                                             validatorMessage="Вас же попросили: циферку от -5 до 5"
                                             styleClass="#{not component.valid ? 'input-error' : ''}">
                                    <!--                                    <f:ajax event="click" render="messageY Y" execute="Y"/>-->
                                    <f:validateDoubleRange minimum="-5.0" maximum="5.0"/>
                                </h:inputText>
                            </div>

                            <div class="checkButton">
                                <h:commandButton id="checkButton" value="Проверить" onclick=""
                                                 action="#{pointsBean.addPoint()}"
                                                 styleClass="checkButtonInside">
                                    <f:ajax event="click" execute="newPointForm X hiddenR Y "
                                            render="X Y messageY pointsTable hiddenR b1 b2 b3 b4 b5"/>
                                </h:commandButton>
                            </div>


                            <div style="text-align: center; max-width: 350px; margin-top: 15px">
                                <h:message id="messageY" for="Y" style="color:red "/>
                            </div>


                        </div>
                    </h:form>


                </div>

                <div class="svg">
                    <svg id="svg" xmlns="http://www.w3.org/2000/svg" width="300" height="300" class="svg-graph">

                        <!--            Линии оси-->

                        <line class="axis" x1="0" x2="300" y1="150" y2="150" stroke="black"></line>
                        <line class="axis" x1="150" x2="150" y1="0" y2="300" stroke="black"></line>
                        <polygon points="150,0 144,15 156,15" stroke="black"></polygon>
                        <polygon points="300,150 285,156 285,144" stroke="black"></polygon>

                        <line class="coor-line" x1="200" x2="200" y1="155" y2="145" stroke="black"></line>
                        <line class="coor-line" x1="250" x2="250" y1="155" y2="145" stroke="black"></line>

                        <line class="coor-line" x1="50" x2="50" y1="155" y2="145" stroke="black"></line>
                        <line class="coor-line" x1="100" x2="100" y1="155" y2="145" stroke="black"></line>

                        <line class="coor-line" x1="145" x2="155" y1="100" y2="100" stroke="black"></line>
                        <line class="coor-line" x1="145" x2="155" y1="50" y2="50" stroke="black"></line>

                        <line class="coor-line" x1="145" x2="155" y1="200" y2="200" stroke="black"></line>
                        <line class="coor-line" x1="145" x2="155" y1="250" y2="250" stroke="black"></line>

                        <text class="coor-text" x="195" y="140">R/2</text>
                        <text class="coor-text" x="248" y="140">R</text>

                        <text class="coor-text" x="40" y="140">-R</text>
                        <text class="coor-text" x="90" y="140">-R/2</text>

                        <text class="coor-text" x="160" y="105">R/2</text>
                        <text class="coor-text" x="160" y="55">R</text>

                        <text class="coor-text" x="160" y="205">-R/2</text>
                        <text class="coor-text" x="160" y="255">-R</text>

                        <text class="axis-text" x="290" y="170">X</text>
                        <text class="axis-text" x="160" y="13">Y</text>

                        <!-- first figure-->
                        <polygon class="rectangle-figure" points="150,150 150,50 250,50, 250,150"
                                 fill="blue" fill-opacity="0.7" stroke="blue"></polygon>

                        <!-- second figure-->
                        <polygon class="triangle-figure" points="50,150 150,150 150,50"
                                 fill="blue" fill-opacity="0.7" stroke="blue"></polygon>

                        <!-- third figure-->
                        <path class="circle-figure" d="M 200 150 A 50 50, 180, 0, 1, 150 200 L 150 150 Z"
                              fill="blue" fill-opacity="0.7" stroke="blue"></path>

                        <polygon class="frame" points="0,0 0,300 300,300 300,0"></polygon>

                    </svg>
                </div>
            </div>
        </div>

        <h:outputScript name="validation.js"/>

        <div class="table">
            <h:panelGroup id="pointsTable">
                <h:dataTable styleClass="table" value="#{pointsBean.pointList}" var="point">
                    <h:column>
                        <f:facet name="header">X</f:facet>
                        #{point.x}
                    </h:column>

                    <h:column>
                        <f:facet name="header">Y</f:facet>
                        <h:outputText value="#{point.y}">
                            <f:convertNumber minFractionDigits="3"/>
                        </h:outputText>
                    </h:column>

                    <h:column>
                        <f:facet name="header">R</f:facet>
                        #{point.r}
                    </h:column>

                    <h:column>
                        <f:facet name="header">Result</f:facet>
                        <h:outputText value=" #{pointsBean.isThePointIn(point)}">
                            <f:converter converterId="resultConverter"/>
                        </h:outputText>
                    </h:column>

                </h:dataTable>

                <ui:repeat value="#{pointsBean.pointList}" var="point">

                    <h:outputScript>
                        drawPoint(#{point.x}, #{point.y}, #{point.r}, #{point.result});
                    </h:outputScript>
                </ui:repeat>

            </h:panelGroup>
        </div>

    </div>


    <div class="footer">
        <div class="link">
            <a id="github" href="https://github.com/whoismuch">
                <h:graphicImage width="45" height="45" value="resources/doggy.png"/>
                <h:outputLabel>GitHub</h:outputLabel>
            </a>
        </div>
    </div>

</h:body>
</html>


